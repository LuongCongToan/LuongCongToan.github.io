window.__require=function t(e,n,o){function r(c,a){if(!n[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var u="function"==typeof __require&&__require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var l=n[c]={exports:{}};e[c][0].call(l.exports,function(t){return r(e[c][1][t]||t)},l,l.exports,t,e,n,o)}return n[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<o.length;c++)r(o[c]);return r}({AmaWrapper:[function(t,e,n){"use strict";cc._RF.push(e,"09ef1bb6o1IXLCekELLi+rr","AmaWrapper");var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./event-manager"),i=cc._decorator,c=i.ccclass,a=(i.property,function(){function t(){}var e;return e=t,Object.defineProperty(t,"instance",{get:function(){return null==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),t.prototype.init=function(t){window.song=t,AmaSdk.MepEventEmitter.emit("create")},t.prototype.start=function(){AmaSdk.MepEventEmitter.on("start",function(t){AmaSdk.ContentReader.getNotes(t.levelUrl).then(function(t){r.default.instance.dispatch("midi_load_completed",t)}).catch(function(t){console.log({error:t})})})},t.prototype.emitLoadCompleted=function(){AmaSdk.MepEventEmitter.emit("load-completed")},t._instance=null,t=e=o([c],t)}());n.default=a,cc._RF.pop()},{"./event-manager":"event-manager"}],BeatNode:[function(t,e,n){"use strict";cc._RF.push(e,"92a54JHxN9KbLbibPDLk56w","BeatNode");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i,c=t("./core/event-manager"),a=cc._decorator,s=a.ccclass,u=a.property;(function(t){t[t.Missed=0]="Missed",t[t.Great=1]="Great",t[t.Perfect=2]="Perfect",t[t.SupperPerfect=3]="SupperPerfect"})(i=n.ScoreEnum||(n.ScoreEnum={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fromScale=1,e.toScale=1,e.tween=null,e}return o(e,t),e.prototype.move=function(t,e,n,o){var r=this,a=1*o/n,s=cc.Vec2.ZERO;cc.Vec2.lerp(s,t,e,a),this.node.setScale(this.fromScale),this.node.setPosition(t),this.tween=cc.tween(this.node).to(o,{position:s,scale:this.toScale}).call(function(){c.default.instance.dispatch("beat_node_destroy",r.node,i.Missed)}).start()},e.prototype.stop=function(){null!=this.tween&&this.tween.stop(),this.tween=null},e.prototype.contains=function(t){return!!this.node.getBoundingBoxToWorld().contains(t)},r([u({type:cc.Float})],e.prototype,"fromScale",void 0),r([u({type:cc.Float})],e.prototype,"toScale",void 0),e=r([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./core/event-manager":"event-manager"}],DownloadFileUtil:[function(t,e,n){"use strict";cc._RF.push(e,"0ceedkXbjJEQ5v9++Ec84Cl","DownloadFileUtil");var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,c=(r.property,function(){function t(){}return t.get=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0);try{n.send(),n.status}catch(t){cc.log(""+t)}},t.downloadTextFile=function(t,e){},t=o([i],t)}());n.default=c,cc._RF.pop()},{}],GamePlay:[function(t,e,n){"use strict";cc._RF.push(e,"a3089WfcVVC3a5DbkZkjoN9","GamePlay");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i,c=t("./core/AmaWrapper"),a=t("./core/event-manager"),s=t("./BeatNode"),u=t("./Utils"),l=t("./UIGamePlay"),p=cc._decorator,f=p.ccclass,d=p.property;(function(t){t[t.Init=0]="Init",t[t.CountDown=1]="CountDown",t[t.Playing=2]="Playing",t[t.End=3]="End",t[t.Paused=4]="Paused"})(i=n.GameState||(n.GameState={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.poolSize=0,e.moveDuration=0,e.timeTolerance=.1,e.arrayNotes=null,e.beatNodes=[],e._state=i.Init,e.timeTraveled=0,e.nodeIndex=0,e._isMidiLoaded=!1,e.songUrl="",e.backgroundMusic=null,e}return o(e,t),e.prototype.onLoad=function(){this.spawnPosition=new cc.Vec2(this.spawnPos.position.x,this.spawnPos.position.y),this.endPosition=new cc.Vec2(this.endPos.position.x,this.endPos.position.y),this.gameScore=0,this._isMidiLoaded=!1,this.setState(i.Init),c.default.instance,c.default.instance.init({songId:"mien-cat-trang",mp3Url:"https://luongcongtoan.github.io/cloud/mien-cat-trang.mp3",levelUrl:"https://luongcongtoan.github.io/cloud/mien-cat-trang.bin",duration:287,title:"Mi\u1ec1n C\xe1t Tr\u1eafng",artist:"L\xe2m Ch\xed Khanh"}),c.default.instance.start(),this.singleNodePool=new cc.NodePool;for(var t=0;t<this.poolSize;t++){var e=cc.instantiate(this.singleNodePrefab);this.singleNodePool.put(e)}},e.prototype.setState=function(t){t!=this._state&&(this._state=t)},e.prototype.start=function(){var t=this;cc.loader.load("https://luongcongtoan.github.io/cloud/mien-cat-trang.mp3",function(e,n){t.backgroundMusic=n}),a.default.instance.register("midi_load_completed",function(e){cc.log("Note count: "+e.length);var n=0+t.timeTolerance;t.arrayNotes=e.map(function(e){return e.time=e.time-t.moveDuration,e}).filter(function(t){return t.time>0}).filter(function(e){return e.time>n&&(n=e.time+t.timeTolerance,!0)}),cc.log("Note count: "+t.arrayNotes.length),t._isMidiLoaded=!0}),a.default.instance.register("beat_node_destroy",function(e,n){n>s.ScoreEnum.Missed&&(t.gameScore+=n,l.default.instance.setScore(t.gameScore)),t.destroyNode(e)}),c.default.instance.emitLoadCompleted(),this.addEvents()},e.prototype.addEvents=function(){var t=cc.find("Canvas");t.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),t.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),t.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},e.prototype.removeEvents=function(){var t=cc.find("Canvas");t.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),t.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),t.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},e.prototype.onTouchStart=function(t){this._state==i.Playing&&this.beatNodes.forEach(function(e){e.contains(t.touch.getLocation())&&a.default.instance.dispatch("beat_node_destroy",e.node,s.ScoreEnum.Great)})},e.prototype.onTouchMove=function(t){this._state,i.Playing},e.prototype.onTouchEnd=function(t){this._state,i.Playing},e.prototype.update=function(t){switch(this._state){case i.Init:this._isMidiLoaded&&null!=this.backgroundMusic&&(this.setState(i.CountDown),cc.audioEngine.playMusic(this.backgroundMusic,!1));break;case i.CountDown:this.updateCountDown(t);break;case i.Playing:this.updatePlaying(t)}},e.prototype.updateCountDown=function(t){this.setState(i.Playing)},e.prototype.updatePlaying=function(t){this.timeTraveled+=t;var e=this.arrayNotes[this.nodeIndex];this.timeTraveled>e.time&&(this.spawnNode(),this.nodeIndex++,this.nodeIndex>=this.arrayNotes.length&&(this._state=i.End))},e.prototype.spawnNode=function(){var t=null;t=this.singleNodePool.size()>0?this.singleNodePool.get():cc.instantiate(this.singleNodePrefab),this.beatNodes.push(t.getComponent(s.default));var e=u.default.getRandom(this.spawnPosition.x-this.spawnOffset.x,this.spawnPosition.x+this.spawnOffset.x),n=u.default.inverseLerp(this.spawnPosition.x-this.spawnOffset.x,this.spawnPosition.x+this.spawnOffset.x,e),o=cc.misc.lerp(this.endPosition.x-this.endOffset.x,this.endPosition.x+this.endOffset.x,n);t.parent=this.node,t.setPosition(this.spawnPos.position),t.getComponent(s.default).move(new cc.Vec2(e,this.spawnPosition.y),new cc.Vec2(o,this.endPosition.y),this.moveDuration,this.moveDuration+.5)},e.prototype.destroyNode=function(t){this.singleNodePool.put(t);var e=t.getComponent(s.default);if(null!=t){e.stop();var n=this.beatNodes.indexOf(e);-1!=n&&this.beatNodes.splice(n,1)}},r([d({type:cc.Integer})],e.prototype,"poolSize",void 0),r([d({type:cc.Float})],e.prototype,"moveDuration",void 0),r([d({type:cc.Float})],e.prototype,"timeTolerance",void 0),r([d(cc.Prefab)],e.prototype,"singleNodePrefab",void 0),r([d(cc.Node)],e.prototype,"spawnPos",void 0),r([d(cc.Node)],e.prototype,"spawnOffset",void 0),r([d(cc.Node)],e.prototype,"endPos",void 0),r([d(cc.Node)],e.prototype,"endOffset",void 0),e=r([f],e)}(cc.Component);n.default=h,cc._RF.pop()},{"./BeatNode":"BeatNode","./UIGamePlay":"UIGamePlay","./Utils":"Utils","./core/AmaWrapper":"AmaWrapper","./core/event-manager":"event-manager"}],MainMenu:[function(t,e,n){"use strict";cc._RF.push(e,"6b7f5LT0UxMBZU4TmCAzEJ0","MainMenu");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{s(o.next(t))}catch(t){i(t)}}function a(t){try{s(o.throw(t))}catch(t){i(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(c,a)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,u=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.loadFile=function(t){return i(this,void 0,void 0,function(){var e;return c(this,function(n){switch(n.label){case 0:return[4,fetch(t)];case 1:return e=n.sent(),cc.log(JSON.stringify(e)),cc.log(e.text()),[2]}})})},e=r([s],e)}(cc.Component));n.default=u,cc._RF.pop()},{}],MidiNoteGenerator:[function(t,e,n){"use strict";cc._RF.push(e,"f17d2VxUQtCDrziyz2LHqCd","MidiNoteGenerator");var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,c=(r.property,function(){function t(){}return t=o([i],t)}());n.default=c,cc._RF.pop()},{}],NoteData:[function(t,e,n){"use strict";cc._RF.push(e,"1cd8b5ztdNBkY4vi+P7oJQV","NoteData");var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,c=(r.property,function(){function t(){}return t=o([i],t)}());n.default=c,cc._RF.pop()},{}],SoundManager:[function(t,e,n){"use strict";cc._RF.push(e,"8be62NUMXJKcbNQ7aSOW1RG","SoundManager");var o=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,c=(r.property,function(){function t(){this.playingSounds={},this.sounds={}}var e;return e=t,Object.defineProperty(t,"instance",{get:function(){return null==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),t.prototype.load=function(t,e){var n=this;this.sounds[t]||cc.loader.loadRes(t,cc.AudioClip,function(e,o){n.sounds[t]=o,cc.audioEngine.play(o,!0,1)})},t.prototype.playMusic=function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=1),t=t.toLowerCase(),!this.isPlaying(t)&&this.sounds[t]){var o=cc.audioEngine.play(this.sounds[t],e,n);this.playingSounds[t]=o}},t.prototype.pause=function(t){t=t.toLowerCase(),void 0!=this.playingSounds[t]&&cc.audioEngine.pause(this.playingSounds[t])},t.prototype.resume=function(t){t=t.toLowerCase(),void 0!=this.playingSounds[t]&&cc.audioEngine.resume(this.playingSounds[t])},t.prototype.stop=function(t){t=t.toLowerCase(),void 0!=this.playingSounds[t]&&(cc.audioEngine.stop(this.playingSounds[t]),delete this.playingSounds[t])},t.prototype.isPlaying=function(t){return t=t.toLowerCase(),void 0!=this.playingSounds[t]&&cc.audioEngine.getState(this.playingSounds[t])==cc.audioEngine.AudioState.PLAYING},t._instance=null,t=e=o([i],t)}());n.default=c,cc._RF.pop()},{}],UIGamePlay:[function(t,e,n){"use strict";cc._RF.push(e,"4732cDj+e5J06RGwEGJuYJv","UIGamePlay");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,a=i.property,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return o(e,t),n=e,Object.defineProperty(e,"instance",{get:function(){return n._instance},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){n._instance=this},e.prototype.start=function(){this.scoreText.string="Score: 0"},e.prototype.setScore=function(t){this.scoreText.string="Score: "+t.toFixed(0)},e._instance=null,r([a(cc.Label)],e.prototype,"scoreText",void 0),e=n=r([c],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],Utils:[function(t,e,n){"use strict";var o;cc._RF.push(e,"eda72Ai4jVCrLDUvZdvJgxg","Utils"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t[t.LocalHost=0]="LocalHost",t[t.Online=1]="Online"}(o=n.HostType||(n.HostType={}));var r=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return null==t._instance&&(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.getHostType=function(){return-1!=window.location.hostname.indexOf("localhost")?o.LocalHost:o.Online},t.getRandom=function(t,e){return Math.floor(Math.random()*(e-t))+t},t.inverseLerp=function(t,e,n){return(n-t)/(e-t)},t.mapNewRange=function(t,e,n,o,r){return(t-e)*(r-o)/(n-e)+o},t._instance=null,t}();n.default=r,cc._RF.pop()},{}],"event-manager":[function(t,e,n){"use strict";cc._RF.push(e,"2e623IV4q1D0agaSqJePtJh","event-manager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.eventListenners={}}return Object.defineProperty(t,"instance",{get:function(){return null==t._instance&&(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.register=function(t,e,n,o,r){void 0===n&&(n=null),void 0===o&&(o=0),void 0===r&&(r=!1);var i={target:n,callback:e,priority:o,excuteOnce:r};return this.eventListenners[t]?this.eventListenners[t].push(i):(this.eventListenners[t]=[],this.eventListenners[t].push(i)),this.eventListenners[t].sort(function(t,e){return e.priority-t.priority}),e},t.prototype.registerOnce=function(t,e,n,o){void 0===n&&(n=null),void 0===o&&(o=0),this.register(t,e,n,o,!0)},t.prototype.unregister=function(t,e,n){if(void 0===n&&(n=null),this.eventListenners[t]){for(var o=[],r=0;r<this.eventListenners[t].length;r++){var i=this.eventListenners[t][r];null==e?i.target==n&&o.push(r):i.target==n&&i.callback==e&&o.push(r)}this.eventListenners[t]=this.eventListenners[t].filter(function(t,e){return-1===o.indexOf(e)}),0==this.eventListenners[t].length&&delete this.eventListenners[t]}},t.prototype.unregisterTarget=function(t){var e=function(e){for(var o=[],r=0;r<n.eventListenners[e].length;r++){n.eventListenners[e][r].target==t&&o.push(r)}n.eventListenners[e]=n.eventListenners[e].filter(function(t,e){return-1===o.indexOf(e)}),0==n.eventListenners[e].length&&delete n.eventListenners[e]},n=this;for(var o in this.eventListenners)e(o)},t.prototype.remove=function(t){this.eventListenners[t]&&delete this.eventListenners[t]},t.prototype.dispatch=function(t){for(var e=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(this.eventListenners[t]){var r=[];this.eventListenners[t].forEach(function(t){t.target?t.callback.call(t.target,n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9]):t.callback(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9]),1==t.excuteOnce&&r.push(t)}),r.forEach(function(n){e.unregister(t,n.callback,n.target)})}},t._instance=null,t}();n.default=o,cc._RF.pop()},{}]},{},["BeatNode","GamePlay","MainMenu","NoteData","UIGamePlay","Utils","AmaWrapper","DownloadFileUtil","MidiNoteGenerator","SoundManager","event-manager"]);